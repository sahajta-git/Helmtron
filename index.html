<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Helmtron ‚Äì Smart Safety Helmet</title>

<style>
:root {
  --bg1: #08111d;
  --bg2: #12263e;
  --card: #1b2f4b;
  --accent: #f1c40f;
  --danger: #ff0033;
  --title-red: #f44336;
  --white: #ffffff;
  --safe: #2ecc71;
}

html { scroll-behavior: smooth; }

body {
  margin: 0;
  font-family: "Poppins", Arial, sans-serif;
  background: linear-gradient(145deg, var(--bg1), var(--bg2));
  color: var(--accent);
}

/* NAVBAR */
nav {
  position: fixed;
  top: 0; width: 100%;
  background: rgba(11,26,43,0.95);
  border-bottom: 2px solid var(--accent);
  display: flex; justify-content: space-between; align-items: center;
  padding: 10px 40px;
  z-index: 100;
}

nav h1 { font-size: 1.5rem; color: var(--title-red); text-shadow: 0 0 8px var(--title-red); }

nav ul { display: flex; gap: 25px; list-style: none; }
nav ul li a { color: var(--accent); text-decoration: none; font-weight: 500; }
nav ul li a:hover { color: var(--white); }

/* HERO */
#hero {
  height: 90vh;
  background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.6)),
  url("https://images.unsplash.com/photo-1581091870627-3b52a02aeb06?auto=format&fit=crop&w=1400&q=60")
  center/cover no-repeat;
  color: var(--white);
  display: flex; flex-direction: column; justify-content:center; align-items:center; text-align:center;
}

#hero h1{font-size:3rem;text-shadow:0 0 18px var(--accent);}
#hero p{font-size:1.2rem;max-width:600px}
.btn {
  background: var(--accent); color:#000; padding:12px 28px; font-weight:600;
  border-radius:8px; border:none; cursor:pointer; margin-top:15px;
}
.btn:hover{transform:scale(1.05);background:#ffdb4d}

/* ABOUT */
section {padding:80px 20px; text-align:center;}
#about {background:var(--card); border-top:2px solid var(--accent); border-bottom:2px solid var(--accent); color:#ddd}

/* FEATURES */
#features {display:flex;flex-wrap:wrap;gap:20px;justify-content:center}
.feature {
  background:var(--card); border:2px solid var(--accent);
  padding:20px;border-radius:12px;width:250px;box-shadow:0 4px 15px rgba(0,0,0,.5)
}

/* SENSOR SECTION */
#readout {display:flex;flex-wrap:wrap;gap:15px;justify-content:center;margin-top:15px;}
.sensor-card{
  background:var(--card); border:1px solid var(--accent); border-radius:10px;
  padding:12px; min-width:170px; text-align:center;
}

#alert-box {
  display:none; background:var(--danger); color:#fff; font-weight:bold;
  padding:12px;border-radius:10px; animation:blink 1s infinite alternate;
}
@keyframes blink{from{opacity:1;}to{opacity:.6;}}

/* CONTACT */
#contact {background:var(--card); border-top:2px solid var(--accent);}
form {max-width:400px;margin:auto;display:flex;flex-direction:column;gap:12px}
input, textarea {
  padding:10px; border-radius:6px; border:1px solid #aaa; background:#fff;
}

/* FOOTER */
footer {background:#0b1a2b;border-top:2px solid var(--accent);padding:15px;text-align:center;color:var(--accent)}
</style>
</head>

<body>

<!-- NAV -->
<nav>
  <h1>Helmtron</h1>
  <ul>
    <li><a href="#hero">Home</a></li>
    <li><a href="#about">About</a></li>
    <li><a href="#features">Features</a></li>
    <li><a href="#sensor">Sensors</a></li>
    <li><a href="#contact">Contact</a></li>
  </ul>
</nav>

<!-- HERO -->
<section id="hero">
  <h1>Smart Safety Helmet</h1>
  <p>Real-time safety monitoring | Gas | Heart | Temperature | Vibration Alerts</p>
  <a href="#sensor"><button class="btn">View Live Data</button></a>
</section>

<!-- ABOUT -->
<section id="about">
  <h2>About Helmtron</h2>
  <p>Helmtron is a smart IoT helmet designed for industrial workers to detect harmful gases, impacts, and medical emergency conditions.</p>
</section>

<!-- FEATURES -->
<section id="features">
  <div class="feature">‚öôÔ∏è Smart Gas Detection</div>
  <div class="feature">‚ù§Ô∏è Heart & SpO2 Monitor</div>
  <div class="feature">üå°Ô∏è Temperature & Humidity</div>
  <div class="feature">üì° Cloud Alerts</div>
  <div class="feature">üß† AI Analysis Ready</div>
  <div class="feature">ü™´ Long Battery Backup</div>
</section>

<!-- SENSORS -->
<section id="sensor">
  <h2>Live Sensor Readings</h2>

  <div id="alert-box">‚ö†Ô∏è WARNING: Unsafe Helmet Conditions Detected!</div>

  <div id="readout"></div>

  <!-- You can add more charts for each field later -->
  <iframe src="https://thingspeak.com/channels/3138290/charts/1?bgcolor=%230b1a2b&color=%23f1c40f&dynamic=true"
    width="100%" height="300" style="border:0;margin-top:10px;border-radius:10px"></iframe>

  <p id="sensor-error" style="color:#ff8c8c;"></p>
</section>

<!-- CONTACT -->
<section id="contact">
  <h2>Contact Us</h2>
  <form onsubmit="alert('Message Sent'); return false;">
    <input type="text" placeholder="Name" required>
    <input type="email" placeholder="Email" required>
    <textarea rows="3" placeholder="Message" required></textarea>
    <button class="btn">Submit</button>
  </form>
</section>

<!-- FOOTER -->
<footer>
  ¬© 2025 Helmtron | NIIT University | Safety Innovation
</footer>

<!-- JAVASCRIPT -->
<script>
const CHANNEL_ID = 3138290; // ‚úÖ your channel
const API_URL = `https://api.thingspeak.com/channels/${CHANNEL_ID}/feeds.json?results=1`;

const FIELD = {
  mq135:"field1", mq5:"field2", hr:"field3", spo2:"field4",
  temp:"field5", hum:"field6", mpu:"field7"
};

const LIMIT = { mq135:300, mq5:200, hr:120, spo2:90, temp:40, hum:80, mpu:2000 };
const LABEL = {
  mq135:"Air Quality (MQ135)", mq5:"Gas (MQ5)", hr:"Heart Rate", spo2:"SpO2",
  temp:"Temperature ¬∞C", hum:"Humidity %", mpu:"Impact Level"
};

function getColor(value, limit){return value>limit?"red":"var(--safe)";}

async function loadData(){
  try{
    const r = await fetch(API_URL); const j = await r.json();
    const f = j.feeds[0]; let danger=false;

    let box = "";
    for(let s in FIELD){
      let v = Number(f[FIELD[s]]);
      if(v>LIMIT[s]) danger=true;
      box += `<div class='sensor-card'>
                <b>${LABEL[s]}</b><br>
                <span style='color:${getColor(v, LIMIT[s])};font-weight:700;'>${isNaN(v)?"--":v}</span>
              </div>`;
    }

    document.getElementById("readout").innerHTML = box;
    document.getElementById("alert-box").style.display = danger?"block":"none";
    document.getElementById("sensor-error").innerHTML = "";
  }
  catch(e){
    document.getElementById("sensor-error").innerHTML = "‚ö† Cannot fetch ThingSpeak data";
  }
}

loadData();
setInterval(loadData, 8000);
</script>

</body>
</html>

